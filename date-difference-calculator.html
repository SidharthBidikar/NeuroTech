<!DOCTYPE html>
<html lang="en">
<head>
    <!-- User's Tracking and Ad Scripts -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3XBFN03XMN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-3XBFN03XMN');
  </script>
    <meta name="google-site-verification" content="1j2lyC3ZbnmSQySbsIoQep4DWrnDkwLE2euIB_jOb-M" />
    <meta name="google-adsense-account" content="ca-pub-6275528006958350" />
    
    <!-- SEO Meta Tags for Date Difference Calculator -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Date Difference Calculator - Calculate Days Between Dates</title>
    <meta name="description" content="A powerful and free date difference calculator to find the duration between two dates. Calculate the number of years, months, weeks, and days. Perfect for project timelines, birthdays, and event planning.">
    <meta name="keywords" content="date difference calculator, days between dates, date duration calculator, time between dates, date calculator, calculate days, week calculator, month calculator, time duration tool">
    <meta name="robots" content="index, follow">
    <meta name="author" content="One Page Tools Team">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://your-domain.com/date-difference-calculator.html">
    <meta property="og:title" content="Date Difference Calculator - Calculate Time Between Dates">
    <meta property="og:description" content="Easily calculate the exact duration between two dates. Get a detailed breakdown in years, months, weeks, and days. Free, fast, and accurate.">
    <meta property="og:image" content="https://via.placeholder.com/1200x630.png?text=Date+Difference+Calculator">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://your-domain.com/date-difference-calculator.html">
    <meta property="twitter:title" content="Date Difference Calculator - Calculate Time Between Dates">
    <meta property="twitter:description" content="Easily calculate the exact duration between two dates. Get a detailed breakdown in years, months, weeks, and days. Free, fast, and accurate.">
    <meta property="twitter:image" content="https://via.placeholder.com/1200x630.png?text=Date+Difference+Calculator">

    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <style>
      body { font-family: 'Inter', sans-serif; background-color: #f5f5fa; }
      .btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); transition: all 0.2s ease-in-out; }
      .article-section { max-width: 800px; margin: 4rem auto; padding: 2rem; background-color: white; border-radius: 0.5rem; box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
      .article-section h2, .article-section h3, .article-section h4, .article-section p, .article-section li, .article-section strong, .article-section code { text-align: left; }
      .article-section h2 { font-size: 2rem; margin-bottom: 1rem; color: #1f2937; border-bottom: 2px solid #d1d5db; padding-bottom: 0.5rem; }
      .article-section h3 { font-size: 1.6rem; margin-top: 2.5rem; margin-bottom: 1rem; color: #111827; }
      .article-section h4 { font-size: 1.25rem; margin-top: 2rem; margin-bottom: 0.75rem; color: #1f2937; font-weight: 600; border-left: 3px solid #6366f1; padding-left: 0.75rem;}
      .article-section p, .article-section li { margin-bottom: 1rem; line-height: 1.8; color: #374151; }
      .article-section strong { color: #4f46e5; }
      .article-section code { background-color: #e5e7eb; padding: 0.2rem 0.4rem; border-radius: 4px; font-family: monospace; color:#1e293b; }
      .result-card { background: linear-gradient(135deg, #f0f9ff, #eef2ff); }
      .summary-card { background: linear-gradient(135deg, #4f46e5, #6366f1); }
    </style>
</head>
<body>
    <!-- HEADER FROM USER'S index.html -->
    <nav class="bg-white dark:bg-gray-900 fixed w-full z-20 top-0 start-0 border-b border-gray-200 dark:border-gray-600">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
          <a href="https://onepagetools.com" class="flex items-center space-x-3 rtl:space-x-reverse">
            <img style="height: 60px" src="./One_Page-removebg-preview.png" alt="OnePageTools Logo" />
          </a>
          <div class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
            <button data-collapse-toggle="navbar-sticky" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-sticky" aria-expanded="false">
              <span class="sr-only">Open main menu</span>
              <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"></path></svg>
            </button>
          </div>
          <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1" id="navbar-sticky">
            <ul class="flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
              <li><a href="./index.html" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Home</a></li>
              <li><a href="./about.html" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">About</a></li>
              <li><a href="./contact.html" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Contact</a></li>
              <li>
                <button id="dropdownNavbarLink" data-dropdown-toggle="dropdownNavbar" class="flex items-center justify-between w-full py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto dark:text-white md:dark:hover:text-blue-500 dark:focus:text-white dark:border-gray-700 dark:hover:bg-gray-700 md:dark:hover:bg-transparent">ALL PDF TOOLS<svg class="w-2.5 h-2.5 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/></svg></button>
                <div id="dropdownNavbar" class="z-10 hidden font-normal bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600">
                  <ul class="py-2 text-sm text-gray-700 dark:text-gray-400" aria-labelledby="dropdownLargeButton">
                    <li><a href="./pdftoword.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">PDF TO WORD</a></li>
                    <li><a href="./wordtopdf.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Word to PDF</a></li>
                  </ul>
                </div>
              </li>
              <li>
                <button id="textToolsDropdownLink" data-dropdown-toggle="textToolsDropdown" class="flex items-center justify-between w-full py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto dark:text-white md:dark:hover:text-blue-500 dark:focus:text-white dark:border-gray-700 dark:hover:bg-gray-700 md:dark:hover:bg-transparent">Text & Content Tools ✒️<svg class="w-2.5 h-2.5 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/></svg></button>
                <div id="textToolsDropdown" class="z-10 hidden font-normal bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600">
                  <ul class="py-2 text-sm text-gray-700 dark:text-gray-400" aria-labelledby="textToolsDropdownLink">
                    <li><a href="./textcaseconverter.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Text Case Converter</a></li>
                    <li><a href="./wordcounter.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Word Counter</a></li>
                  </ul>
                </div>
              </li>
              <li>
                <button id="calculatorToolsDropdownLink" data-dropdown-toggle="calculatorToolsDropdown" class="flex items-center justify-between w-full py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto dark:text-white md:dark:hover:text-blue-500 dark:focus:text-white dark:border-gray-700 dark:hover:bg-gray-700 md:dark:hover:bg-transparent">Calculators 🧮<svg class="w-2.5 h-2.5 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/></svg></button>
                <div id="calculatorToolsDropdown" class="z-10 hidden font-normal bg-white divide-y divide-gray-100 rounded-lg shadow w-52 dark:bg-gray-700 dark:divide-gray-600">
                  <ul class="py-2 text-sm text-gray-700 dark:text-gray-400" aria-labelledby="calculatorToolsDropdownLink">
                    <li><a href="./age-calculator.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Age Calculator</a></li>
                    <li><a href="./speed-converter.html" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Speed Converter</a></li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
        </div>
    </nav>
    <!-- END OF HEADER -->
    
    <!-- Main Tool Content -->
    <main class="pt-24">
        <div class="flex flex-col justify-center items-center py-10 px-4">
            <div class="w-full max-w-6xl p-6 md:p-8 bg-white rounded-xl shadow-xl">
              <!-- Tool Header -->
              <div class="text-center mb-8">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-3">Date Difference Calculator</h1>
                <p class="text-lg text-gray-500 max-w-3xl mx-auto">Calculate the exact duration between two dates, broken down into years, months, weeks, and days.</p>
              </div>
        
              <!-- Calculator Body -->
              <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
                  <!-- Inputs Column -->
                  <div class="lg:col-span-2 bg-gray-50 p-6 rounded-lg border border-gray-200">
                      <h3 class="text-xl font-bold text-gray-700 mb-4">Select Dates</h3>
                      <div class="space-y-6">
                          <!-- Start Date -->
                          <div>
                              <label for="start-date" class="block text-sm font-medium text-gray-700">Start Date</label>
                              <input type="date" id="start-date" class="mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md p-2">
                              <button id="start-today-btn" class="mt-2 text-sm text-indigo-600 hover:underline">Set to Today</button>
                          </div>
                          
                          <!-- Swap Button -->
                          <div class="text-center">
                            <button id="swap-btn" class="p-2 bg-gray-200 rounded-full text-gray-600 hover:bg-indigo-100 hover:text-indigo-600 btn">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 12l-4-4m4 4l4-4m6 8v-12m0 12l-4-4m4 4l4-4" /></svg>
                            </button>
                          </div>

                          <!-- End Date -->
                          <div>
                              <label for="end-date" class="block text-sm font-medium text-gray-700">End Date</label>
                              <input type="date" id="end-date" class="mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md p-2">
                               <button id="end-today-btn" class="mt-2 text-sm text-indigo-600 hover:underline">Set to Today</button>
                          </div>
                          
                          <!-- Options -->
                          <div class="pt-4 border-t border-gray-200">
                              <div class="flex items-center">
                                  <input id="include-end-day" type="checkbox" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                                  <label for="include-end-day" class="ml-2 block text-sm text-gray-900">Include end day in calculation</label>
                              </div>
                          </div>
                          <p id="error-message" class="text-red-600 text-sm mt-2 hidden"></p>
                      </div>
                  </div>

                  <!-- Results Column -->
                  <div class="lg:col-span-3">
                      <h3 class="text-xl font-bold text-gray-700 mb-4">Calculation Result</h3>
                      <div id="result-container">
                          <!-- Summary Card -->
                          <div class="summary-card text-white p-6 rounded-lg shadow-lg mb-6">
                              <h4 class="text-lg font-medium text-indigo-200">Duration Summary</h4>
                              <p id="summary-result" class="text-4xl font-bold mt-2">-</p>
                          </div>
                          <!-- Detailed Breakdown -->
                          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                              <div class="result-card p-4 rounded-lg border border-gray-200 text-center"><p class="text-sm text-gray-600">Total Years</p><p id="total-years" class="text-2xl font-bold text-gray-800">-</p></div>
                              <div class="result-card p-4 rounded-lg border border-gray-200 text-center"><p class="text-sm text-gray-600">Total Months</p><p id="total-months" class="text-2xl font-bold text-gray-800">-</p></div>
                              <div class="result-card p-4 rounded-lg border border-gray-200 text-center"><p class="text-sm text-gray-600">Total Weeks</p><p id="total-weeks" class="text-2xl font-bold text-gray-800">-</p></div>
                              <div class="result-card p-4 rounded-lg border border-gray-200 text-center"><p class="text-sm text-gray-600">Total Days</p><p id="total-days" class="text-2xl font-bold text-gray-800">-</p></div>
                              <div class="result-card p-4 rounded-lg border border-gray-200 text-center"><p class="text-sm text-gray-600">Total Hours</p><p id="total-hours" class="text-2xl font-bold text-gray-800">-</p></div>
                              <div class="result-card p-4 rounded-lg border border-gray-200 text-center"><p class="text-sm text-gray-600">Total Minutes</p><p id="total-minutes" class="text-2xl font-bold text-gray-800">-</p></div>
                          </div>
                      </div>
                  </div>
              </div>
            </div>
        </div>
    </main>

    <!-- SEO-Friendly Article -->
    <div class="article-section">
      <h2>The Ultimate Guide to Calculating the Difference Between Dates</h2>
      <p>Whether you're planning a project, counting down to a special event, or calculating interest periods, knowing the exact duration between two dates is a common necessity. A <strong>date difference calculator</strong> is an essential tool that simplifies this task, eliminating manual counting and potential errors from leap years and varying month lengths. This guide will walk you through how to use our powerful <strong>date duration calculator</strong> and explore the importance of time calculations in various aspects of life.</p>
    
      <h3>How to Use Our Date Difference Calculator</h3>
      <p>Our tool is designed for precision and ease of use. Here's how to get started:</p>
      <ol>
          <li><strong>Select a Start Date:</strong> Use the calendar picker to choose your beginning date. Alternatively, click the "Set to Today" button to quickly select the current date.</li>
          <li><strong>Select an End Date:</strong> Choose your end date using the second calendar picker. You can also use its "Set to Today" button.</li>
          <li><strong>Swap Dates (Optional):</strong> If you entered the dates in the wrong order, simply click the swap (⇅) button to switch them instantly.</li>
          <li><strong>Choose Your Calculation Method:</strong> By default, the calculator finds the exclusive duration. If you want to count both the start and end dates in the total (e.g., Monday to Wednesday as 3 days), check the <strong>"Include end day in calculation"</strong> box.</li>
          <li><strong>View Your Results Instantly:</strong> The results update automatically. You'll see a clear summary (e.g., "1 Year, 2 Months, and 3 Days") and a detailed breakdown of the total duration in different units.</li>
      </ol>
      
      <h3>Why is a Date Calculator So Useful?</h3>
      <p>Calculating the <strong>days between dates</strong> is more than just a mathematical exercise. It has practical applications in many areas:</p>
      
      <h4>Project Management</h4>
      <p>Project managers constantly need to calculate timelines. A <strong>time between dates</strong> calculator helps in determining the exact number of days available for a project, setting realistic deadlines, and tracking progress against milestones. It's crucial for resource planning and ensuring projects stay on schedule.</p>

      <h4>Event Planning and Personal Milestones</h4>
      <p>How many days until your next birthday, anniversary, or a major holiday? A date calculator provides a precise countdown. It's also perfect for calculating your exact age in years, months, and days, offering a fun and accurate perspective on your life's duration.</p>
      
      <h4>Financial and Legal Contexts</h4>
      <p>In finance, interest is often calculated based on the exact number of days. A <strong>date calculator</strong> is essential for accurately determining loan periods, investment durations, and contract timelines. In legal matters, deadlines and statutes of limitations are strictly based on calendar days, making precise calculation critical.</p>

      <h3>Understanding the Nuances: The "Include End Day" Option</h3>
      <p>One of the most common points of confusion when calculating the <strong>days between dates</strong> is whether the end day should be part of the count. Our calculator gives you the choice.</p>
      <ul>
          <li><strong>Unchecked (Default):</strong> This calculates the number of full 24-hour periods between the dates. For example, from January 1 to January 3, the duration is 2 days.</li>
          <li><strong>Checked:</strong> This is an inclusive count. It's like counting items on a list. For example, from January 1 to January 3 (inclusive), the duration is 3 days (the 1st, 2nd, and 3rd).</li>
      </ul>
      <p>This simple option adds a layer of flexibility, ensuring the tool meets the specific requirements of your calculation, whether for billing cycles, event durations, or personal tracking.</p>

      <h3>The Complexity Behind the Scenes: Leap Years and Months</h3>
      <p>Why not just count the days manually? The answer lies in the complexities of our calendar. A <strong>date duration calculator</strong> automatically handles:</p>
      <ul>
          <li><strong>Leap Years:</strong> A leap year, which occurs every 4 years (with exceptions for century years), adds an extra day (February 29th). Forgetting a leap day can throw off long-term calculations significantly.</li>
          <li><strong>Varying Month Lengths:</strong> Months have 28, 29, 30, or 31 days. This inconsistency makes it tedious to manually calculate the difference in terms of months and days. Our tool's algorithm correctly accounts for these variations to provide an accurate "X years, Y months, Z days" result.</li>
      </ul>

      <h3>Frequently Asked Questions (FAQ)</h3>
      
      <h4>How do I calculate the number of business days between two dates?</h4>
      <p>This tool calculates the total calendar days. Calculating business days (which exclude weekends and public holidays) is more complex because holiday schedules vary by country and even region. While this specific tool doesn't exclude holidays, it gives you the total calendar days, which is a great starting point for manual adjustments.</p>
      
      <h4>How accurate is this date difference calculator?</h4>
      <p>It is highly accurate. It uses a robust, custom JavaScript algorithm that correctly handles all calendar rules, including leap years and varying month lengths, to ensure the results are precise and reliable.</p>
      
      <h4>Can I calculate the duration for dates in the past or future?</h4>
      <p>Yes. The calculator works perfectly for any two dates you can select from the calendar, whether they are in the past, present, or future.</p>
      
      <h4>What's the difference between the "Summary" result and the "Total Days" result?</h4>
      <p>The **Summary** (e.g., 1 year, 2 months, 5 days) breaks down the duration into the largest possible units first. The **Total Days** (e.g., 430 days) converts the entire duration into a single unit (days), ignoring the concept of months and years. Both are correct, but they serve different purposes.</p>

      <h3>Conclusion</h3>
      <p>In a world driven by deadlines, anniversaries, and timelines, a reliable <strong>date difference calculator</strong> is an indispensable utility. It replaces tedious manual counting with instant, accurate results, saving you time and preventing errors. By handling the complexities of the Gregorian calendar automatically, it empowers you to plan, track, and reminisce with confidence. Bookmark this page for all your future date calculation needs!</p>
    </div>
    
    <!-- FOOTER -->
    <footer class="bg-gray-100"><!-- Footer content --></footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const startDateInput = document.getElementById('start-date');
        const endDateInput = document.getElementById('end-date');
        const startTodayBtn = document.getElementById('start-today-btn');
        const endTodayBtn = document.getElementById('end-today-btn');
        const swapBtn = document.getElementById('swap-btn');
        const includeEndDayCheckbox = document.getElementById('include-end-day');
        const errorMessage = document.getElementById('error-message');
        
        const summaryResult = document.getElementById('summary-result');
        const totalYears = document.getElementById('total-years');
        const totalMonths = document.getElementById('total-months');
        const totalWeeks = document.getElementById('total-weeks');
        const totalDays = document.getElementById('total-days');
        const totalHours = document.getElementById('total-hours');
        const totalMinutes = document.getElementById('total-minutes');

        const formatDateForInput = (date) => {
            const year = date.getFullYear();
            const month = (date.getMonth() + 1).toString().padStart(2, '0');
            const day = date.getDate().toString().padStart(2, '0');
            return `${year}-${month}-${day}`;
        };
        
        const calculateDifference = () => {
            const startDateVal = startDateInput.value;
            const endDateVal = endDateInput.value;

            if (!startDateVal || !endDateVal) {
                clearResults();
                return;
            }

            const startDate = new Date(startDateVal);
            const endDate = new Date(endDateVal);
            
            // Adjust for timezone offset to treat dates as local
            startDate.setMinutes(startDate.getMinutes() + startDate.getTimezoneOffset());
            endDate.setMinutes(endDate.getMinutes() + endDate.getTimezoneOffset());
            
            if (startDate.getTime() > endDate.getTime()) {
                errorMessage.textContent = 'Start date must be before or the same as the end date.';
                errorMessage.classList.remove('hidden');
                clearResults();
                return;
            }
            
            errorMessage.classList.add('hidden');

            let adjustedEndDate = new Date(endDate);
            if (includeEndDayCheckbox.checked) {
                adjustedEndDate.setDate(adjustedEndDate.getDate() + 1);
            }
            
            // --- Detailed Breakdown Calculation (Corrected Logic) ---
            let tempStartDate = new Date(startDate);
            let years = adjustedEndDate.getFullYear() - tempStartDate.getFullYear();
            let months = adjustedEndDate.getMonth() - tempStartDate.getMonth();
            let days = adjustedEndDate.getDate() - tempStartDate.getDate();

            if (days < 0) {
                months--;
                const lastDayOfPrevMonth = new Date(adjustedEndDate.getFullYear(), adjustedEndDate.getMonth(), 0).getDate();
                days += lastDayOfPrevMonth;
            }

            if (months < 0) {
                years--;
                months += 12;
            }
            
            // --- Display Summary ---
            const summaryParts = [];
            if(years > 0) summaryParts.push(`${years} Year${years > 1 ? 's' : ''}`);
            if(months > 0) summaryParts.push(`${months} Month${months > 1 ? 's' : ''}`);
            if(days > 0) summaryParts.push(`${days} Day${days > 1 ? 's' : ''}`);
            summaryResult.textContent = summaryParts.length > 0 ? summaryParts.join(', ') : '0 Days';
            
            // --- Total Units Calculation ---
            const ONE_DAY_MS = 1000 * 60 * 60 * 24;
            let daysDiff = Math.round((endDate.getTime() - startDate.getTime()) / ONE_DAY_MS);
            if(includeEndDayCheckbox.checked){
                daysDiff += 1;
            }
            
            const formatNumber = (num) => num.toLocaleString('en-US');

            totalDays.textContent = formatNumber(daysDiff);
            totalWeeks.textContent = formatNumber(Math.floor(daysDiff / 7));
            
            const totalMonthDiff = (endDate.getFullYear() - startDate.getFullYear()) * 12 + (endDate.getMonth() - startDate.getMonth());
            totalMonths.textContent = formatNumber(totalMonthDiff);
            totalYears.textContent = (daysDiff / 365.25).toFixed(2);
            totalHours.textContent = formatNumber(daysDiff * 24);
            totalMinutes.textContent = formatNumber(daysDiff * 24 * 60);
        };
        
        const clearResults = () => {
            summaryResult.textContent = '-';
            totalYears.textContent = '-'; totalMonths.textContent = '-';
            totalWeeks.textContent = '-'; totalDays.textContent = '-';
            totalHours.textContent = '-'; totalMinutes.textContent = '-';
        };

        const setToday = (inputElement) => {
            inputElement.value = formatDateForInput(new Date());
            calculateDifference();
        };

        const swapDates = () => {
            const temp = startDateInput.value;
            startDateInput.value = endDateInput.value;
            endDateInput.value = temp;
            calculateDifference();
        };
        
        [startDateInput, endDateInput, includeEndDayCheckbox].forEach(el => {
            el.addEventListener('change', calculateDifference);
        });
        startTodayBtn.addEventListener('click', () => setToday(startDateInput));
        endTodayBtn.addEventListener('click', () => setToday(endDateInput));
        swapBtn.addEventListener('click', swapDates);

        // Initial setup
        const init = () => {
            const today = new Date();
            const aWeekAgo = new Date();
            aWeekAgo.setDate(today.getDate() - 7);
            
            startDateInput.value = formatDateForInput(aWeekAgo);
            endDateInput.value = formatDateForInput(today);
            calculateDifference();
        };
        
        init();
      });
    </script>
</body>
</html>
